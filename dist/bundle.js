!function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=e(mapboxgl);const n="pk.eyJ1IjoiZGJhcm5lc2VuIiwiYSI6IjFWeUJFNFUifQ.CF2Du3MPcaCQhBBNJSQMDQ",c="https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f33d817767e6e242e_marker_blue.svg",l="https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f0116312d1320e108_marker_okre.svg",r=[8.2961,59.91639];let a=null;function s(t){const e=document.querySelectorAll(".tur-collection-item");let n=[];e.forEach(((r,s)=>{const i=parseFloat(r.getAttribute("data-lat")),d=parseFloat(r.getAttribute("data-lng")),u=r.getAttribute("data-item-id");if(!isNaN(i)&&!isNaN(d)){const h=function(t=c){const e=document.createElement("div");return e.className="custom-marker",e.style.backgroundImage=`url(${t})`,e.style.width="40px",e.style.height="50px",e.style.backgroundSize="cover",e}(c),y=new o.default.Marker({element:h,anchor:"bottom"}).setLngLat([d,i]).addTo(t);n.push(y),r.addEventListener("click",(function(){t.flyTo({center:[d,i],zoom:16}),function(t){t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}(r);const o=document.querySelector(`.tur-collection-content[data-content-id="${u}"]`);a&&a!==o&&(a.style.display="none",a.style.height="20vh"),"block"===o.style.display&&a===o?(o.style.display="none",o.style.height="20vh"):(o.style.display="block",o.style.height="30vh"),a="block"===o.style.display?o:null,function(t,e){t.forEach(((t,o)=>{const n=o===e?l:c;t.getElement().style.backgroundImage=`url(${n})`}))}(n,s),function(t,e){e&&(e.style.borderColor="",e.style.backgroundColor=""),t.style.borderColor="#cc9752",t.style.backgroundColor="#cc9752"}(r,e)})),y.getElement().addEventListener("click",(()=>{r.click()}))}}))}function i(){let t,e;const o=e=>{t=e.touches[0].clientY},n=o=>{if(!t)return;e=o.changedTouches[0].clientY;const n=e-t;Math.abs(n)>20&&(n>0&&o.preventDefault(),n<0?c(o.target):l(o.target),window.scrollTo(0,0),t=null)},c=t=>{const e=t.closest(".tur-collection-content");e&&(e.style.height="70vh");const o=e.querySelector(".tur-tray-arrow");o&&(o.style.transform="rotateX(0deg)")},l=t=>{const e=t.closest(".tur-collection-content");e&&(e.style.height="20vh");const o=e.querySelector(".tur-tray-arrow");o&&(o.style.transform="rotateX(180deg)")};var r,a;r=".tur-content-slide-cnt",a=t=>{t.addEventListener("touchstart",o),t.addEventListener("touchend",n)},document.querySelectorAll(r).forEach(a)}document.addEventListener("DOMContentLoaded",(()=>{mapboxgl.accessToken=n;s(function(){o.default.accessToken=n;const t=new o.default.Map({container:"turmap",style:"mapbox://styles/dbarnesen/ckk3vfvbi4t1v17p82fuy61pt",center:r,zoom:5.5,pitch:54});t.addControl(new o.default.NavigationControl,"top-right"),t.addControl(new o.default.ScaleControl({maxWidth:80,unit:"metric"}));const e=new o.default.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0,showUserHeading:!0});return t.on("load",(()=>t.addControl(e))),document.getElementById("geolocateButton").addEventListener("click",(()=>e.trigger())),t}()),i()}))}();
