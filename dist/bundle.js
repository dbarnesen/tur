!function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(mapboxgl);const o="pk.eyJ1IjoiZGJhcm5lc2VuIiwiYSI6IjFWeUJFNFUifQ.CF2Du3MPcaCQhBBNJSQMDQ",c="https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f33d817767e6e242e_marker_blue.svg",r=[8.2961,59.91639];let a=null;function l(t){document.querySelectorAll(".tur-collection-item").forEach(((e,o)=>{const r=parseFloat(e.getAttribute("data-lat")),l=parseFloat(e.getAttribute("data-lng")),s=e.getAttribute("data-kategori"),d=e.getAttribute("data-item-id");if(!isNaN(r)&&!isNaN(l)&&s){const s=function(t=c){const e=document.createElement("div");return e.className="custom-marker",e.style.backgroundImage=`url(${t})`,e.style.width="40px",e.style.height="50px",e.style.backgroundSize="cover",e}(c),i=new n.default.Marker({element:s,anchor:"bottom"}).setLngLat([l,r]).addTo(t);e.addEventListener("click",(function(){if(t.flyTo({center:[l,r],zoom:15}),function(t){t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}(this),a&&a.classList.remove("selected"),this.classList.add("selected"),a=this,currentOpenContentId&&currentOpenContentId!==d){document.querySelector(`.tur-content-reveal[data-content-id="${currentOpenContentId}"]`).style.display="none"}const e=document.querySelector(`.tur-content-reveal[data-content-id="${d}"]`);e.style.display="block"===e.style.display?"none":"block",currentOpenContentId="block"===e.style.display?d:null,i.getElement().style.backgroundImage="url(https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f0116312d1320e108_marker_okre.svg)",document.querySelectorAll(".custom-marker").forEach(((t,e)=>{e!==o&&(t.style.backgroundImage=`url(${c})`)}))})),i.getElement().addEventListener("click",(()=>{e.click()}))}}))}const s=t=>document.querySelector(t);document.addEventListener("DOMContentLoaded",(()=>{mapboxgl.accessToken=o;l(function(){n.default.accessToken=o;const t=new n.default.Map({container:"turmap",style:"mapbox://styles/dbarnesen/ckk3vfvbi4t1v17p82fuy61pt",center:r,zoom:5.5,pitch:54});t.addControl(new n.default.NavigationControl,"top-right"),t.addControl(new n.default.ScaleControl({maxWidth:80,unit:"metric"}));const e=new n.default.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0,showUserHeading:!0});return t.on("load",(()=>t.addControl(e))),document.getElementById("geolocateButton").addEventListener("click",(()=>e.trigger())),t}()),function(){let t,e;const n=e=>{t=e.touches[0].clientY},o=n=>{if(!t)return;e=n.changedTouches[0].clientY;const o=e-t;Math.abs(o)>20&&(o>0&&n.preventDefault(),o<0?c():r(),window.scrollTo(0,0),t=null)},c=()=>{s(".tur-collection-content").style.height="70vh",s(".tur-tray-arrow").style.transform="rotateX(0deg)"},r=()=>{s(".tur-collection-content").style.height="20vh",s(".tur-tray-arrow").style.transform="rotateX(180deg)"},a=s(".tur-content-slide-cnt");a&&(a.addEventListener("touchstart",n),a.addEventListener("touchend",o))}()}))}();
