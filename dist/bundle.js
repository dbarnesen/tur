!function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=e(mapboxgl);const n="pk.eyJ1IjoiZGJhcm5lc2VuIiwiYSI6IjFWeUJFNFUifQ.CF2Du3MPcaCQhBBNJSQMDQ",c=[8.2961,59.91639];let r=null;const a=t=>document.querySelector(t);document.addEventListener("DOMContentLoaded",(()=>{mapboxgl.accessToken=n;!function(t){const e=document.querySelectorAll(".tur-collection-item");e.forEach((o=>{const n=o.getAttribute("data-item-id");o.addEventListener("click",(function(){if(this===r)return;const c=document.querySelector(`.tur-content-reveal[data-content-id="${n}"]`);c&&(r&&r.click(),c.click(),r=c);const a=parseFloat(o.getAttribute("data-lat")),l=parseFloat(o.getAttribute("data-lng"));isNaN(a)||isNaN(l)||(t.flyTo({center:[l,a],zoom:15}),o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})),document.querySelectorAll(".custom-marker").forEach(((t,o)=>{const c=e[o].getAttribute("data-item-id");t.style.backgroundImage=`url(${c===n?"https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f0116312d1320e108_marker_okre.svg":"https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f33d817767e6e242e_marker_blue.svg"})`}))}))}))}(function(){o.default.accessToken=n;const t=new o.default.Map({container:"turmap",style:"mapbox://styles/dbarnesen/ckk3vfvbi4t1v17p82fuy61pt",center:c,zoom:5.5,pitch:54});t.addControl(new o.default.NavigationControl,"top-right"),t.addControl(new o.default.ScaleControl({maxWidth:80,unit:"metric"}));const e=new o.default.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0,showUserHeading:!0});return t.on("load",(()=>t.addControl(e))),document.getElementById("geolocateButton").addEventListener("click",(()=>e.trigger())),t}()),function(){let t,e;const o=e=>{t=e.touches[0].clientY},n=o=>{if(!t)return;e=o.changedTouches[0].clientY;const n=e-t;Math.abs(n)>20&&(n>0&&o.preventDefault(),n<0?c():r(),window.scrollTo(0,0),t=null)},c=()=>{a(".tur-collection-content").style.height="70vh",a(".tur-tray-arrow").style.transform="rotateX(0deg)"},r=()=>{a(".tur-collection-content").style.height="20vh",a(".tur-tray-arrow").style.transform="rotateX(180deg)"},l=a(".tur-content-slide-cnt");l&&(l.addEventListener("touchstart",o),l.addEventListener("touchend",n))}()}))}();
