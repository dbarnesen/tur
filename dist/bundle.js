!function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(mapboxgl);const o="pk.eyJ1IjoiZGJhcm5lc2VuIiwiYSI6IjFWeUJFNFUifQ.CF2Du3MPcaCQhBBNJSQMDQ",s="https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f33d817767e6e242e_marker_blue.svg",a=[8.2961,59.91639];let c=null,l=null,i=[];function r(e){document.querySelectorAll(".tur-collection-item").forEach(((t,o)=>{const a=parseFloat(t.getAttribute("data-lat")),r=parseFloat(t.getAttribute("data-lng")),d=t.getAttribute("data-item-id");if(!isNaN(a)&&!isNaN(r)){const o=function(e=s){const t=document.createElement("div");return t.className="custom-marker",t.style.backgroundImage=`url(${e})`,t.style.width="40px",t.style.height="50px",t.style.backgroundSize="cover",t}(s),u=new n.default.Marker({element:o,anchor:"bottom"}).setLngLat([r,a]).addTo(e);i.push({id:d,marker:u,element:o}),t.addEventListener("click",(function(){if(l!==this){if(l){l.classList.remove("selected");const e=i.find((e=>e.id===l.getAttribute("data-item-id")));e&&(e.element.style.backgroundImage=`url(${s})`)}this.classList.add("selected");const e=i.find((e=>e.id===d));e&&(e.element.style.backgroundImage="url(https://uploads-ssl.webflow.com/5a12777c9048ed000106553e/65f40a4f0116312d1320e108_marker_okre.svg)"),l=this}!function(e,t){const n=document.querySelector(`.tur-collection-content[data-content-id="${t}"]`);c&&c!==n&&(c.classList.remove("expanded"),c.style.height="0",setTimeout((()=>{c.style.display="none"}),300));n.classList.contains("expanded")?(n.classList.remove("expanded"),n.style.height="0",setTimeout((()=>{n.style.display="none"}),300),c=null):(n.style.display="block",requestAnimationFrame((()=>{n.classList.add("expanded"),n.style.height="30vh"})),c=n);!function(e){e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}(e)}(this,d)})),u.getElement().addEventListener("click",(()=>{t.click()}))}}))}function d(){let e,t;const n=t=>{e=t.touches[0].clientY},o=n=>{if(!e)return;t=n.changedTouches[0].clientY;const o=t-e;Math.abs(o)>20&&(o>0?a(n.target):s(n.target),window.scrollTo(0,0),e=null)},s=e=>{const t=e.closest(".tur-collection-content");if(t){t.style.height="70vh",t.classList.add("expanded");const e=t.querySelector(".tur-tray-arrow");e&&(e.style.transform="rotateX(0deg)")}},a=e=>{const t=e.closest(".tur-collection-content");if(t){t.classList.remove("expanded"),t.style.height="20vh",setTimeout((()=>{t.classList.contains("expanded")||(t.style.display="none")}),300);const e=t.querySelector(".tur-tray-arrow");e&&(e.style.transform="rotateX(180deg)")}};var c,l;c=".tur-content-slide-cnt",l=e=>{e.addEventListener("touchstart",n),e.addEventListener("touchend",o)},document.querySelectorAll(c).forEach(l)}document.addEventListener("DOMContentLoaded",(()=>{mapboxgl.accessToken=o;r(function(){n.default.accessToken=o;const e=new n.default.Map({container:"turmap",style:"mapbox://styles/dbarnesen/ckk3vfvbi4t1v17p82fuy61pt",center:a,zoom:5.5,pitch:54});e.addControl(new n.default.NavigationControl,"top-right"),e.addControl(new n.default.ScaleControl({maxWidth:80,unit:"metric"}));const t=new n.default.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserLocation:!0,showUserHeading:!0});return e.on("load",(()=>e.addControl(t))),document.getElementById("geolocateButton").addEventListener("click",(()=>t.trigger())),e}()),d()}))}();
